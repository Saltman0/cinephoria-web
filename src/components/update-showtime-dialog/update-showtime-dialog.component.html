<dialog #updateShowtimeDialog class="modal">

    <div class="modal-box flex flex-col justify-center items-center">

        <span class="cinephoria-dialog-title">Ajout d'un film</span>

        <form [formGroup]="showtimeForm" (ngSubmit)="updateShowtime()" method="POST"
              class="flex flex-col justify-around items-center h-140">

            <div class="cinephoria-select-cinema flex justify-between items-center px-2">
                <select class="mx-1" formControlName="movieId" name="movieId" id="movieId">
                    <option disabled>Choisissez une catégorie</option>
                    @for (movie of movieList; track movie.id) {
                        <option [value]="movie.id" [selected]="movie.id === movieId">{{ movie.title }}</option>
                    }
                </select>

                <img ngSrc="../../assets/images/Down_arrow.png" width="25" height="25"
                     alt="Flèche de sélection de la catégorie" />
            </div>

            <div class="cinephoria-select-cinema flex justify-between items-center px-2">
                <select class="mx-1" formControlName="hallId" name="hallId" id="hallId" required>
                    <option selected disabled>Choisissez une salle</option>
                    @for (hall of hallList; track hall.id) {
                        <option [value]="hall.id" [selected]="hall.id === hallId">{{ hall.number }}</option>
                    }
                </select>

                <img ngSrc="../../assets/images/Down_arrow.png" width="25" height="25"
                     alt="Flèche de sélection de la salle" />
            </div>

            <div class="flex flex-col items-start">
                <input [value]="startTime" type="datetime-local" formControlName="startTime"
                       placeholder="Date de début de séance" name="startTime" id="startTime"
                       class="cinephoria-input h-8.75 w-62.5" required minlength="5" maxlength="200" />
            </div>

            <div class="flex flex-col items-start">
                <input [value]="endTime" type="datetime-local" formControlName="endTime"
                       placeholder="Date de fin de séance" name="endTime" id="endTime"
                       class="cinephoria-input h-8.75 w-62.5" required minlength="5" maxlength="200" />
            </div>

            <div class="flex flex-col items-start">
                <input [value]="price" type="number" formControlName="price" placeholder="Prix de la séance"
                       name="price" id="price" class="cinephoria-input h-8.75 w-62.5" required min="1" max="100" />
            </div>

            <div class="flex justify-end items-center gap-2 mt-2">
                <button type="submit" class="cinephoria-button">
                    <span [class.hidden]="isUpdatingShowtime">Enregistrer</span>
                    <span [class.hidden]="!isUpdatingShowtime" class="loading loading-spinner loading-xl"></span>
                </button>
                <button type="button" class="cinephoria-button" (click)="closeUpdateMovieDialog()">
                    <span [class.hidden]="isUpdatingShowtime">Annuler</span>
                    <span [class.hidden]="!isUpdatingShowtime" class="loading loading-spinner loading-xl"></span>
                </button>
            </div>

        </form>


    </div>

</dialog>
